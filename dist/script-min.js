window.onresize=moveHoneycombOnTop,window.onload=moveHoneycombOnTop;var form=document.getElementById("contact-form");function formSubmitResponseHandle(e,n,t,o,a,r){e.innerHTML="",appendFormMessage(e,n,t),o.textContent=a,clearInterval(r)}function loadingAnimation(){var e=document.getElementById("form-submit");e.textContent.length<5?e.textContent+=".":e.textContent.length>=5&&(e.textContent=".")}function validateForm(e,n){n.innerHTML="";var t=!0,o=document.getElementById("name-input");0===o.value.length&&(appendFormMessage(n,"Veuillez renseigner un nom","error"),t=!1);var a=document.getElementById("email-input");0===a.value.length?(appendFormMessage(n,"Veuillez renseigner un mail","error"),t=!1):validateEmail(a.value)||(appendFormMessage(n,"Veuillez renseigner un mail valide","error"),t=!1);var r=document.getElementById("content-input");return 0===r.value.length&&(appendFormMessage(n,"Veuillez ajouter un message","error"),t=!1),[t,n,o,a,r]}function appendFormMessage(e,n,t){var o=document.createElement("DIV");o.textContent=n,o.className="form-message "+t,e.append(o)}function validateEmail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function moveHoneycombOnTop(){var e=document.getElementById("honeycomb"),n=document.getElementById("honeycomb-display");window.outerWidth<=900?n.prepend(e):n.append(e)}form.onsubmit=function(e){e.preventDefault();var n=document.getElementById("form-messages"),t=validateForm(this,n);if(!0===t[0]){var o=document.getElementById("form-submit");o.disabled=!0,o.textContent=".";var a=window.setInterval(loadingAnimation,1e3),r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=this.response;1==e?(formSubmitResponseHandle(n,"Le message a bien été envoyé. Vous allez recevoir un mail de confirmation","success",o,"Message envoyé !",a),t[2].value="",t[4].value="",o.disabled=!0):(formSubmitResponseHandle(n,e,"error",o,"ENVOYER",a),o.disabled=!1)}};var m="?name="+t[2].value+"&mail="+t[3].value+"&content="+t[4].value;r.open("GET","backend/sendMail.php"+m,!0),r.send(m)}};